"use strict";(self.webpackChunkmain_project_1=self.webpackChunkmain_project_1||[]).push([[332],{8332:(s,e,t)=>{t.r(e),t.d(e,{default:()=>I});var o=t(5043),i=t(3923),r=t(3003),a=t(6048),l=t(229);const n={posts:"Profile_posts__l3TcI",matchedBlock:"Profile_matchedBlock__TlOZJ",changeProfilePhoto:"Profile_changeProfilePhoto__W5KDf",profilePhoto:"Profile_profilePhoto__b3mcI",profileInfo:"Profile_profileInfo__NKmvI",status:"Profile_status__SC2Y9",contacts:"Profile_contacts__Xbirj",date:"Profile_date__QYIIz"},c={posts:"MyPosts_posts__IQTM1",elementsBlock:"MyPosts_elementsBlock__96k7A",postsContainer:"MyPosts_postsContainer__1J3Aq",postMessage:"MyPosts_postMessage__+D7Qe",postLikes:"MyPosts_postLikes__hlToT",sendButton:"MyPosts_sendButton__yPPcW"};var d=t(9219),p=t(4943),u=t(579);const f=s=>(0,u.jsxs)("div",{className:c.posts,children:[(0,u.jsx)("img",{className:c.profilePhoto,alt:"image",src:p}),(0,u.jsx)("div",{className:c.postMessage,children:s.message}),(0,u.jsxs)("div",{className:c.postLikes,children:["Likes: ",s.likesCount," ",(0,u.jsx)("img",{src:d,alt:"likes-icon"})]})]});var m=t(1721),h=t(4310),x=t(7143);const j=(0,h.d)(5),g=(0,m.A)({form:"addPostMessageForm"})((s=>(0,u.jsx)("form",{onSubmit:s.handleSubmit,children:(0,u.jsxs)("div",{className:c.elementsBlock,children:[(0,x.Fv)(50,3,"Type ur message","addPostMessage",[h.M,j],x.TM),(0,u.jsx)("button",{className:c.sendButton,children:"Send message"})]})}))),v=s=>{const e=s.profilePage.posts.map((s=>(0,u.jsx)(f,{message:s.message,likesCount:s.likesCount})));return(0,u.jsxs)("div",{children:[(0,u.jsx)(g,{onSubmit:e=>{const{addPostMessage:t}=e;s.addPostAC(t)}}),(0,u.jsxs)("div",{className:c.postsContainer,children:[(0,u.jsx)("h3",{children:"My posts"}),(0,u.jsx)("div",{children:e})]})]})};const P=(0,r.Ng)((s=>({profilePage:s.profilePage})),{addPostAC:a.o1.addPostAC})(v);var _=t(8311);const k=s=>{const[e,t]=(0,o.useState)(!1),[i,r]=(0,o.useState)("");(0,o.useEffect)((()=>{r(s.statusText)}),[s.statusText]);s.updateUserStatus(i);return(0,u.jsxs)("div",{className:n.status,children:[!e&&(0,u.jsxs)("div",{children:["status: ",(0,u.jsx)("span",{onClick:()=>{t(!0)},children:s.statusText||"----"})]}),e&&(0,u.jsx)("div",{children:(0,u.jsx)("input",{onBlur:()=>{t(!1)},value:i,onChange:s=>{r(s.currentTarget.value)}})})]})},b=s=>{const e=new Date;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:n.alwaysProfileBlock,children:(0,u.jsx)("div",{className:n.date,children:e.toDateString()})})})},y=(0,m.A)({form:"edit-profile"})((s=>(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,u.jsx)("button",{children:"Save changes"}),(0,u.jsx)("div",{className:n.profileInfo,children:(0,u.jsxs)("div",{children:["my id is: ",(0,x.Fv)(0,0,"User id","userId",[],x.pd),(0,u.jsxs)("div",{children:["about me: ",(0,x.Fv)(0,0,"About me","aboutMe",[],x.TM),(0,u.jsxs)("div",{children:["looking for a job: ",(0,x.Fv)(0,0,"Looking for a job","lookingForAJob",[],x.pd,{type:"checkbox"}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:["my programming skills: ",(0,x.Fv)(0,0,"My skills","lookingForAJobDescription",[],x.TM)]}),(0,u.jsxs)("div",{children:["my name is: ",(0,x.Fv)(0,0,"Name","fullName",[],x.pd)]}),(0,u.jsxs)("div",{className:n.contacts,children:["contacts: ",Object.keys(s.profile.contacts).map((s=>(0,u.jsxs)("div",{children:[s,": ",(0,x.Fv)(0,0,s,"contacts."+s,[],x.pd)]},s)))]})]})]})]})]})})]})}))),M=s=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{onClick:s.toEditProfile,children:"Edit profile info"}),(0,u.jsx)("div",{className:n.profileInfo,children:(0,u.jsxs)("div",{children:["my id is: ",s.profile.userId,(0,u.jsxs)("div",{children:["about me: ",s.profile.aboutMe?s.profile.aboutMe:"I am the human!",(0,u.jsxs)("div",{children:["looking for a job: ",s.profile.lookingForAJob?"yes":"no",(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:["my programming skills: ",s.profile.lookingForAJobDescription?s.profile.lookingForAJobDescription:"----"]}),(0,u.jsxs)("div",{children:["my name is: ",s.profile.fullName]}),(0,u.jsxs)("div",{className:n.contacts,children:["contacts: ",Object.keys(s.profile.contacts).map((e=>(0,u.jsxs)("div",{children:[e,": ",s.profile.contacts[e]?s.profile.contacts[e]:"https://somesite.com"]},e)))]})]})]})]})]})})]}),N=s=>{const[e,t]=(0,o.useState)(!1),[i,r]=(0,o.useState)(null);return s.profile?(0,u.jsxs)("div",{children:[(0,u.jsx)(b,{isOwner:s.isOwner}),(0,u.jsx)("div",{className:n.matchedBlock,children:(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{className:n.profilePhoto,alt:"profile photo",src:s.profile.photos.small||p||i}),s.isOwner?(0,u.jsx)("input",{onChange:s=>{s.target.files&&s.target.files.length&&r(URL.createObjectURL(s.target.files[0]))},type:"file",className:n.changeProfilePhoto}):null,(0,u.jsx)(k,{updateUserStatus:s.updateUserStatus,statusText:s.statusText}),(0,u.jsx)("div",{children:(0,u.jsx)("span",{children:e?(0,u.jsx)(y,{initialValues:s.profile,onSubmit:e=>{s.saveProfile(e).then((()=>{t((s=>!s))}))},profile:s.profile}):(0,u.jsx)(M,{profile:s.profile,toEditProfile:()=>{t((s=>!s))},isOwner:s.isOwner})})})]})}),(0,u.jsx)(P,{})]}):(0,u.jsx)(_.A,{})};const I=(0,i.Zz)(l.y,(0,r.Ng)((s=>({profile:s.profilePage.profile,statusText:s.profilePage.statusText,authorizedUserId:s.auth.userId})),{getUserProfile:a.VM,getUserProfileStatus:a.Rv,updateUserStatus:a.pU}))((s=>{let e;const t=()=>{e=+s.params.userId,e||(e=s.authorizedUserId,e||s.navigate("/login")),e?(s.getUserProfile(e),s.getUserProfileStatus(e)):console.error("Id should be exist")};return(0,o.useEffect)((()=>{e=+s.params.userId,t()}),[]),(0,o.useEffect)((()=>{e=+s.params.userId,t()}),[s.params.userId]),(0,u.jsx)(N,{profile:s.profile,updateUserStatus:s.updateUserStatus,statusText:s.statusText,isOwner:!s.params.userId,saveProfile:s.saveProfile})}))}}]);
//# sourceMappingURL=332.acdcb46f.chunk.js.map