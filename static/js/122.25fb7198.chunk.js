"use strict";(self.webpackChunkmain_project_1=self.webpackChunkmain_project_1||[]).push([[122],{7122:(s,e,t)=>{t.r(e),t.d(e,{default:()=>B});var i=t(5043);const o="Profile_alwaysProfileBlock__bbfgn",r="Profile_matchedBlock__TlOZJ",a="Profile_profilePhoto__b3mcI",l="Profile_profileInfo__NKmvI",n="Profile_status__SC2Y9",d="Profile_contacts__Xbirj",c="Profile_date__QYIIz",p="MyPosts_posts__IQTM1",h="MyPosts_elementsBlock__96k7A";var u=t(579);const m=s=>(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{alt:"image",src:"https://gas-kvas.com/uploads/posts/2023-02/1675343501_gas-kvas-com-p-art-risunki-dlya-yutuba-28.jpg"}),s.message,(0,u.jsxs)("div",{children:["likes: ",s.likesCount]})]});var f=t(1721),x=t(4310),j=t(7143);const g=(0,x.d)(5),v=(0,f.A)({form:"addPostMessageForm"})((s=>(0,u.jsx)("form",{onSubmit:s.handleSubmit,children:(0,u.jsxs)("div",{className:h,children:[(0,j.Fv)(0,0,"Type ur message","addPostMessage",[x.M,g],j.TM),(0,u.jsx)("button",{children:"Send message"})]})}))),P=s=>{const e=s.profilePage.posts.map((s=>(0,u.jsx)(m,{message:s.message,likesCount:s.likesCount})));return(0,u.jsxs)("div",{children:[(0,u.jsx)(v,{onSubmit:e=>{const{addPostMessage:t}=e;s.addPostAC(t)}}),(0,u.jsxs)("div",{className:p,children:["my posts",(0,u.jsx)("div",{children:e})]})]})};var b=t(3003),k=t(6048);const _=(0,b.Ng)((s=>({profilePage:s.profilePage})),{addPostAC:k.o1.addPostAC})(P);var y=t(8311);const S=s=>{const[e,t]=(0,i.useState)(!1),[o,r]=(0,i.useState)("");(0,i.useEffect)((()=>{r(s.statusText)}),[s.statusText]);s.updateUserStatus(o);return(0,u.jsxs)("div",{className:n,children:[!e&&(0,u.jsxs)("div",{children:["status: ",(0,u.jsx)("span",{onClick:()=>{t(!0)},children:s.statusText||"----"})]}),e&&(0,u.jsx)("div",{children:(0,u.jsx)("input",{onBlur:()=>{t(!1)},value:o,onChange:s=>{r(s.currentTarget.value)}})})]})},I=s=>{const e=new Date;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("img",{alt:"image is here",id:"pic",src:"https://images.hdqwalls.com/download/sunset-tree-red-ocean-sky-7w-2880x1800.jpg"}),(0,u.jsx)("div",{children:s.isOwner?(0,u.jsx)("input",{defaultValue:20,onChange:()=>{let s=document.getElementById("size").value;document.getElementById("pic").width=1+20*+s},type:"range",min:1,max:40,id:"size"}):null}),(0,u.jsx)("div",{className:c,children:e.toDateString()})]})})};var M=t(4943);const N=(0,f.A)({form:"edit-profile"})((s=>(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,u.jsx)("button",{children:"Save changes"}),(0,u.jsx)("div",{className:l,children:(0,u.jsxs)("div",{children:["my id is: ",(0,j.Fv)(0,0,"User id","userId",[],j.pd),(0,u.jsxs)("div",{children:["about me: ",(0,j.Fv)(0,0,"About me","aboutMe",[],j.TM),(0,u.jsxs)("div",{children:["looking for a job: ",(0,j.Fv)(0,0,"Looking for a job","lookingForAJob",[],j.pd,{type:"checkbox"}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:["my programming skills: ",(0,j.Fv)(0,0,"My skills","lookingForAJobDescription",[],j.TM)]}),(0,u.jsxs)("div",{children:["my name is: ",(0,j.Fv)(0,0,"Name","fullName",[],j.pd)]}),(0,u.jsxs)("div",{className:d,children:["contacts: ",Object.keys(s.profile.contacts).map((s=>(0,u.jsxs)("div",{children:[s,": ",(0,j.Fv)(0,0,s,"contacts."+s,[],j.pd)]},s)))]})]})]})]})]})})]})}))),A=s=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{onClick:s.toEditProfile,children:"Edit profile info"}),(0,u.jsx)("div",{className:l,children:(0,u.jsxs)("div",{children:["my id is: ",s.profile.userId,(0,u.jsxs)("div",{children:["about me: ",s.profile.aboutMe?s.profile.aboutMe:"I am the human!",(0,u.jsxs)("div",{children:["looking for a job: ",s.profile.lookingForAJob?"yes":"no",(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:["my programming skills: ",s.profile.lookingForAJobDescription?s.profile.lookingForAJobDescription:"----"]}),(0,u.jsxs)("div",{children:["my name is: ",s.profile.fullName]}),(0,u.jsxs)("div",{className:d,children:["contacts: ",Object.keys(s.profile.contacts).map((e=>(0,u.jsxs)("div",{children:[e,": ",s.profile.contacts[e]?s.profile.contacts[e]:"https://somesite.com"]},e)))]})]})]})]})]})})]}),C=s=>{const[e,t]=(0,i.useState)(!1);return s.profile?(0,u.jsxs)("div",{children:[(0,u.jsx)(I,{isOwner:s.isOwner}),(0,u.jsx)("div",{className:r,children:(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{alt:"profile photo",src:M}),s.isOwner?(0,u.jsx)("input",{onChange:e=>{e.target.files&&e.target.files.length&&s.getPhoto(e.target.files[0])},type:"file",className:a}):null,(0,u.jsx)(S,{updateUserStatus:s.updateUserStatus,statusText:s.statusText}),(0,u.jsx)("div",{children:(0,u.jsx)("span",{children:e?(0,u.jsx)(N,{initialValues:s.profile,onSubmit:e=>{s.saveProfile(e).then((()=>{t((s=>!s))}))},profile:s.profile}):(0,u.jsx)(A,{profile:s.profile,toEditProfile:()=>{t((s=>!s))},isOwner:s.isOwner})})})]})}),(0,u.jsx)(_,{})]}):(0,u.jsx)(y.A,{})};var F=t(3923),T=t(2099);const w=(0,T.Mz)((s=>s.profilePage.profile),(s=>s)),U=(0,T.Mz)((s=>s.profilePage.statusText),(s=>s));var O=t(229),z=t(1352);class D extends i.Component{refreshProfile(){let s=+this.props.params.userId;s||(s=this.props.authorizedUserId,s||this.props.navigate("/login")),s?(this.props.getUserProfile(s),this.props.getUserProfileStatus(s)):console.error("Id should be exist")}componentDidMount(){this.refreshProfile()}componentDidUpdate(s,e){s.params.userId!==this.props.params.userId&&this.refreshProfile()}render(){return(0,u.jsx)(C,{profile:this.props.profile,updateUserStatus:this.props.updateUserStatus,statusText:this.props.statusText,isOwner:!this.props.params.userId,getPhoto:this.props.getPhoto,saveProfile:this.props.saveProfile,photo:this.props.photo})}}const B=(0,F.Zz)(O.y,z.H,(0,b.Ng)((s=>({profile:w(s),statusText:U(s),authorizedUserId:s.auth.userId,photo:s.profilePage.photo})),{getUserProfile:k.VM,getUserProfileStatus:k.Rv,actions:k.o1,getPhoto:k.xI,saveProfile:k.Lt,updateUserStatus:k.pU}))(D)},1352:(s,e,t)=>{t.d(e,{H:()=>l});var i=t(3216),o=t(3003),r=(t(5043),t(579));const a=s=>({isAuth:s.auth.isAuth});function l(s){return(0,o.Ng)(a,{})((e=>{let{isAuth:t,...o}=e;return t?(0,r.jsx)(s,{...o}):(0,r.jsx)(i.C5,{to:"/login"})}))}}}]);
//# sourceMappingURL=122.25fb7198.chunk.js.map